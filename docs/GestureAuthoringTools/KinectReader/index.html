<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta name="description" content="None">
        
        
        <link rel="shortcut icon" href="../../img/favicon.ico">
        <title>Microsoft Applied Robotics Research Library: LabanotationSuite</title>
        <link href="../../css/bootstrap-custom.min.css" rel="stylesheet">
        <link href="../../css/font-awesome.min.css" rel="stylesheet">
        <link href="../../css/base.css" rel="stylesheet">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/github.min.css">
        <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
        <!--[if lt IE 9]>
            <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
            <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
        <![endif]-->

        <script src="../../js/jquery-1.10.2.min.js" defer></script>
        <script src="../../js/bootstrap-3.0.3.min.js" defer></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
        <script>hljs.initHighlightingOnLoad();</script> 
    </head>

    <body class="homepage">

        <div class="navbar navbar-default navbar-fixed-top" role="navigation">
            <div class="container">

                <!-- Collapsed navigation -->
                <div class="navbar-header">
                    <a class="navbar-brand" href="../..">Microsoft Applied Robotics Research Library: LabanotationSuite</a>
                </div>

                <!-- Expanded navigation -->
                <div class="navbar-collapse collapse">

                    <ul class="nav navbar-nav navbar-right">
                        <li>
                            <a href="#" data-toggle="modal" data-target="#mkdocs_search_modal">
                                <i class="fa fa-search"></i> Search
                            </a>
                        </li>
                    </ul>
                </div>
            </div>
        </div>

        <div class="container">
                <div class="col-md-3"><div class="bs-sidebar hidden-print affix well" role="complementary">
    <ul class="nav bs-sidenav">
        <li class="main active"><a href="#microsoft-applied-robotics-research-library">Microsoft Applied Robotics Research Library</a></li>
            <li><a href="#open-source-samples-for-service-robotics">Open Source Samples for Service Robotics</a></li>
        <li class="main "><a href="#kinectreader-user-manual">KinectReader User Manual</a></li>
            <li><a href="#introduction">Introduction</a></li>
            <li><a href="#tested-system-hardware-and-software">Tested System Hardware and Software</a></li>
            <li><a href="#installation">Installation</a></li>
            <li><a href="#example-use">Example Use</a></li>
            <li><a href="#starting-up-and-shutdown">Starting Up and Shutdown</a></li>
            <li><a href="#the-user-interface">The User Interface</a></li>
            <li><a href="#kinect-camera-display">Kinect Camera Display</a></li>
            <li><a href="#status">Status</a></li>
            <li><a href="#controls">Controls</a></li>
            <li><a href="#capture-sessions">Capture Sessions</a></li>
            <li><a href="#reference">Reference</a></li>
    </ul>
</div></div>
                <div class="col-md-9" role="main">

<h2 id="microsoft-applied-robotics-research-library"><img alt="logo" src="../../img/MARR_logo.png" /> <a href="https://special-giggle-b26bab5f.pages.github.io/">Microsoft Applied Robotics Research Library</a></h2>
<h3 id="open-source-samples-for-service-robotics">Open Source Samples for Service Robotics</h3>
<p><a href="https://opensource.org/licenses/MIT"><img alt="License: MIT" src="https://img.shields.io/badge/License-MIT-yellow.svg" /></a> </p>
<h1 id="kinectreader-user-manual"><strong>KinectReader User Manual</strong></h1>
<h2 id="introduction">Introduction</h2>
<p>The KinectReader tool is provided as a Windows binary application that uses a Kinect sensor to capture upper-torso human gestures as body movement tracking sequences and optionally audio/video.  Captured gestures can be edited using the KinectCaptureEditor application and are suitable for conversion to Labanotation using the LabanEditor application.</p>
<h2 id="tested-system-hardware-and-software">Tested System Hardware and Software</h2>
<ul>
<li>Microsoft Windows 10, 64-bit</li>
<li>Microsoft Kinect Sensor v2 for Windows</li>
<li>Microsoft Kinect SDK v2.0 or newer for Kinect Sensor v2 <em>(https://www.microsoft.com/en-us/download/details.aspx?id=44561)</em></li>
<li>OpenCV Version 3.4.3 for Windows <em>(https://sourceforge.net/projects/opencvlibrary/files/opencv-win/3.4.3/opencv-3.4.3-vc14_vc15.exe/download)</em> </li>
<li>Microsoft Visual C++ Runtime Library <em>(https://aka.ms/vs/16/release/vc_redist.x64.exe)</em></li>
</ul>
<h2 id="installation">Installation</h2>
<p>Download the entire KinectReader folder to your local machine
- If needed, edit the file KinectReader.ini and set the DataDir property to a folder where the capture session data will be written.  See <strong>INI File</strong> section below
- Locate and place a copy of the OpenCV file <strong>opencv_world343.dll</strong> into the application folder, or add the existing location to your system's <strong>Path</strong> using Windows' <strong>Advanced System Properties</strong> control panel to set an <strong>Environment Variable</strong>.</p>
<h2 id="example-use">Example Use</h2>
<p>The user wishes to create a set of reference gestures with associated audio and video.
- Launch the KinectReader app.
- From the drop-down control on the right, select Record Audio &amp; Video.
- Click on Start Capture.
- Perform each gesture and vocally name the gesture.
- Click on Stop Capture.
- The Kinect body data frames are saved to joints.csv and the audio/video recording is saved to videorecording.wmv.</p>
<h2 id="starting-up-and-shutdown">Starting Up and Shutdown</h2>
<ul>
<li>To run, double-click KinectReader.exe.</li>
<li>To exit, click on the close button at the top of the window or press Alt+F4 and click Yes on the close confirmation message box.</li>
</ul>
<h2 id="the-user-interface">The User Interface</h2>
<p>The main application windows has three main areas: the Kinect camera display, status, and controls.
 <img alt="KinectReader_Fig1.jpg" src="../../img/KinectReader_Fig1.jpg" /></p>
<h2 id="kinect-camera-display">Kinect Camera Display</h2>
<p>The Kinect Camera Display at the bottom displays the color image from the Kinect sensor overlaid with a diagram of the body tracking data for each person being tracked by the camera.  Segments recognized by the Kinect sensor are green and inferred segments are blue.  Segments that are not recognized are not shown.
A red box highlights the person whose body tracking data will be recorded.  If the wrong person is being tracked, click on the head of the correct person.</p>
<h2 id="status">Status</h2>
<p>The Status area at the top-left displays messages such as a capture session is active and when a frame is captured.</p>
<h2 id="controls">Controls</h2>
<p>The Controls area at the top-right configure and control a recording session.
 <img alt="KinectReader_Fig2.jpg" src="../../img/KinectReader_Fig2.jpg" /> 
- The media drop-down control specifies whether to record audio &amp; video, audio-only, or not at all along with the Kinect data.
- The Start Capture button begins a continuous capture session.
- The Start Mark button begins a frame-by-frame capture session.  A Kinect data frame is only captured when the Mark button is pressed.
- The Stop Capture button stop the capture session and records the Kinect data, audio, and video to the output files.
The video is recorded from the Kinect’s color camera and the audio is recorded from the system default audio input device.  Set the input audio device or adjust the audio input level using the Windows Sound settings or control panel.</p>
<h2 id="capture-sessions">Capture Sessions</h2>
<p>A continuous capture session records Kinect data frames, audio, and video as they are supplied by the Kinect sensor.  A frame-by-frame capture session records a Kinect data frame only when the Mark button is clicked.  When enabled, audio/video is recorded continuously for either session type.
The session files are saved to the directory specified by the DataDir property:
- The Kinect data frames are saved to joints.csv.
- When recording both audio and video, the recording is saved to videorecording.wmv.
- When recording audio only, the recording is saved to audiorecording.wma.</p>
<h2 id="reference">Reference</h2>
<h3 id="keyboard-shortcuts">Keyboard Shortcuts</h3>
<table>
<thead>
<tr>
<th>Keys</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>Alt+F4</td>
<td>Exit the application</td>
</tr>
<tr>
<td>## INI File</td>
<td></td>
</tr>
<tr>
<td>[Section] Property=Value</td>
<td>Type</td>
</tr>
<tr>
<td>--</td>
<td>--</td>
</tr>
<tr>
<td><strong>[main]</strong></td>
<td></td>
</tr>
<tr>
<td>DataDir=</td>
<td>String</td>
</tr>
<tr>
<td>## Kinect Body Data File Format</td>
<td></td>
</tr>
<tr>
<td>The Kinect body data file is a Comma-Separated Values (CSV) text file (*.csv).  A data frame is a line of text terminated by a CR/LF pair and consists of a series of fields separated by commas (“,”).  Each field is the C programming language printf()-style text representation of the value.  The fields are the following:</td>
<td></td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>Timestamp</td>
<td>Integer</td>
<td>Kinect sensor timestamp in hundred-nanosecond units (10,000,000 units = 1 second.)  The absolute value of the timestamp has no meaning but the timestamp allows calculating the elapsed time between frames and ordering frames by when they were captured.</td>
</tr>
<tr>
<td>Joint Array</td>
<td>Tracked Joint</td>
<td>A series of Tracked Joint entries, one per each of 25 joints.</td>
</tr>
<tr>
<td>The fields that make up the Joint Array immediately follow the Timestamp field.  Each set of four fields form a Tracked Joint entry, one per each of 25 joints.  There is no special delineation between entries in the array nor between each field in each entry beyond the standard comma.  The Tracked Joint fields are:</td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>X</td>
<td>Float</td>
<td>X coordinate of the joint in Kinect camera space</td>
</tr>
<tr>
<td>Y</td>
<td>Float</td>
<td>Y coordinate of the joint in Kinect camera space</td>
</tr>
<tr>
<td>Z</td>
<td>Float</td>
<td>Z coordinate of the joint in Kinect camera space</td>
</tr>
<tr>
<td>Tracking State</td>
<td>Integer</td>
<td>0 = joint is not tracked, 1 = joint position is inferred (estimated), 2 = joint is tracked</td>
</tr>
</tbody>
</table>
<p>Kinect camera space is defined as follows:
- The origin (X = 0, Y = 0, Z = 0) is at the center of the Kinect’s IR sensor
- X increases to the sensor’s left, from the sensor looking at the joint
- Y increases towards the sensor’s top
- Z increases away from the sensor to the joint
- Each whole unit is one meter (1.0 units = 1.0 meters)</p>
<p>See the Microsoft documentation Kinect for Windows SDK 2.0, “Programming Guide”, “Coordinate mapping” for more details.</p>
<p>The joints appear in the Joint Array in this order:
1. Spine Base
1. Spine Midsection
1. Neck
1. Head
1. Left Shoulder
1. Left Elbow
1. Left Wrist
1. Left Hand
1. Right Shoulder
1. Right Elbow
1. Right Wrist
1. Right Hand
1. Left Hip
1. Left Knee
1. Left Ankle
1. Left Foot
1. Right Hip
1. Right Knee
1. Right Ankle
1. Right Foot
1. Spine Shoulder
1. Left Hand Tip
1. Left Thumb
1. Right Hand Tip
1. Right Thumb</p></div>
        </div>

        <footer class="col-md-12">
            <hr>
            <p>Documentation built with <a href="https://www.mkdocs.org/">MkDocs</a>.</p>
        </footer>
        <script>
            var base_url = "../..",
                shortcuts = {"search": 83, "next": 78, "help": 191, "previous": 80};
        </script>
        <script src="../../js/base.js" defer></script>
        <script src="../../search/main.js" defer></script>

        <div class="modal" id="mkdocs_search_modal" tabindex="-1" role="dialog" aria-labelledby="Search Modal" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
                <h4 class="modal-title" id="exampleModalLabel">Search</h4>
            </div>
            <div class="modal-body">
                <p>
                    From here you can search these documents. Enter
                    your search terms below.
                </p>
                <form role="form">
                    <div class="form-group">
                        <input type="text" class="form-control" placeholder="Search..." id="mkdocs-search-query" title="Type search term here">
                    </div>
                </form>
                <div id="mkdocs-search-results"></div>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div><div class="modal" id="mkdocs_keyboard_modal" tabindex="-1" role="dialog" aria-labelledby="Keyboard Shortcuts Modal" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
                <h4 class="modal-title" id="exampleModalLabel">Keyboard Shortcuts</h4>
            </div>
            <div class="modal-body">
              <table class="table">
                <thead>
                  <tr>
                    <th style="width: 20%;">Keys</th>
                    <th>Action</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td class="help shortcut"><kbd>?</kbd></td>
                    <td>Open this help</td>
                  </tr>
                  <tr>
                    <td class="next shortcut"><kbd>n</kbd></td>
                    <td>Next page</td>
                  </tr>
                  <tr>
                    <td class="prev shortcut"><kbd>p</kbd></td>
                    <td>Previous page</td>
                  </tr>
                  <tr>
                    <td class="search shortcut"><kbd>s</kbd></td>
                    <td>Search</td>
                  </tr>
                </tbody>
              </table>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div>

    </body>
</html>

<!--
MkDocs version : 1.0.4
Build Date UTC : 2021-05-27 06:51:28
-->
